# –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

–°–µ—Ä–≤–∏—Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (`promo_manager`) ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏ —Å–ª—É—á–∞–π–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–æ–≤, –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å—Ä–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –¢–∏–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `user_id + promo_name + salt`, –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–°–ª—É—á–∞–π–Ω—ã–µ** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Å–ª—É—á–∞–π–Ω—ã–º `salt`, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–µ
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ** ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (`target_user_id: 'Null'`, `'Any'` –∏–ª–∏ `''`)
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ** ‚Äî –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

- **`create_promo`** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- **`modify_promo`** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- **`check_promo`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞

- **`default_code_length`** ‚Äî –¥–ª–∏–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∫–æ–¥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8 —Å–∏–º–≤–æ–ª–æ–≤)
- **`default_expire_days`** ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 –¥–Ω–µ–π)
- **`default_global_promos`** ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`)

## –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```yaml
create_deterministic_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "SUMMER2024"
      salt: "company_summer"
      use_random: false
      expire: 90d  # 90 –¥–Ω–µ–π
      target_user_id: "Null"  # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
      callback_edit: false
    - type: send
      text: |
        ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –¢–∏–ø: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `promo_name: "SUMMER2024"` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- `salt: "company_summer"` ‚Äî —Å–æ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–≤–º–µ—Å—Ç–µ —Å `user_id` –∏ `promo_name` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ö—ç—à)
- `use_random: false` ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- `expire: 90d` ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π action parser –≤ `expire_seconds`: 7776000 (90 –¥–Ω–µ–π)
- `target_user_id: "Null"` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–æ–º–æ–∫–æ–¥ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –•—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ü—Ä–æ–º–æ–∫–æ–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```yaml
create_random_personal_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "WELCOME_BONUS"
      use_random: true
      target_user_id: "{user_id}"  # –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
      callback_edit: false
    - type: send
      text: |
        üéÅ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –¢–∏–ø: –°–ª—É—á–∞–π–Ω—ã–π (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π)
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_id}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `use_random: true` ‚Äî —Å–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º `salt`
- `target_user_id: "{user_id}"` ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ö–∞–∂–¥—ã–π —Ä–∞–∑ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
- –•—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

## –ü—Ä–∏–º–µ—Ä 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```yaml
create_permanent_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "LOYALTY_PROGRAM"
      salt: "loyalty_2024"
      use_random: false
      permanent: true  # –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
      target_user_id: "Null"
      callback_edit: false
    - type: send
      text: |
        üîí –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π (2000-2999)
        –¢–∏–ø: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π)
        –•—ç—à: {hash_id}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `permanent: true` ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥ —Å –æ—á–µ–Ω—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è
- `started_at` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ 2000 –≥–æ–¥
- `expired_at` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ 2999 –≥–æ–¥
- –ü—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ—Å—Å—Ä–æ—á–Ω—ã–π

## –ü—Ä–∏–º–µ—Ä 4: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```yaml
modify_existing_promo:
  actions:
    - type: promo_manager
      action: modify_promo
      promo_name: "SUMMER2024"
      salt: "company_summer"
      expired_seconds: 15552000  # 180 –¥–Ω–µ–π (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ)
      target_user_id: "Null"
      callback_edit: false
    - type: send
      text: |
        ‚úèÔ∏è –ü—Ä–æ–º–æ–∫–æ–¥ –∏–∑–º–µ–Ω–µ–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ù–æ–≤—ã–π —Å—Ä–æ–∫: {started_at|format:date} - {expired_at|format:date}
        –û–±–Ω–æ–≤–ª–µ–Ω: {updated_at|format:datetime}
        –•—ç—à: {hash_id}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `action: modify_promo` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- `expired_seconds: 15552000` ‚Äî –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ 180 –¥–Ω–µ–π
- –•—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –í—Å–µ –ø–æ–ª—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–∏–º–µ—Ä 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```yaml
check_promo_availability:
  actions:
    - type: promo_manager
      action: check_promo
      promo_code: "{promo_code}"
      callback_edit: false
    - type: send
      text: |
        üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        
        –ö–æ–¥: {promo_code}
        –î–æ—Å—Ç—É–ø–µ–Ω: {promo_available|equals:true|value:‚úÖ –î–∞|fallback:‚ùå –ù–µ—Ç}
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_data.promo_name}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {promo_data.started_at|format:date} - {promo_data.expired_at|format:date}
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {promo_data.user_id|fallback:–ì–ª–æ–±–∞–ª—å–Ω—ã–π}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `action: check_promo` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- `promo_code: "{promo_code}"` ‚Äî –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- `promo_available` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (true/false)
- `promo_data.*` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–º–æ–∫–æ–¥–µ

## –ü—Ä–∏–º–µ—Ä 6: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```yaml
create_custom_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "{custom_name}"
      salt: "{custom_salt}"
      use_random: "{use_random_generation}"
      expired_seconds: "{custom_expire_seconds}"
      target_user_id: "{target_user}"
      callback_edit: false
    - type: send
      text: |
        üéØ –ü—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°–æ–ª—å: {salt}
        –¢–∏–ø: {use_random|equals:true|value:–°–ª—É—á–∞–π–Ω—ã–π|fallback:–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π}
        –°—Ä–æ–∫: {started_at|format:date} - {expired_at|format:date}
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_id|fallback:–ì–ª–æ–±–∞–ª—å–Ω—ã–π}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `{custom_name}` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
- `{custom_salt}` ‚Äî —Å–æ–ª—å –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- `{use_random_generation}` ‚Äî —Ñ–ª–∞–≥ —Å–ª—É—á–∞–π–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `{custom_expire_seconds}` ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

## –ü—Ä–∏–º–µ—Ä 7: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```yaml
create_auto_user_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "PERSONAL_OFFER"
      salt: "personal_{user_id}"
      use_random: false
      # target_user_id –Ω–µ —É–∫–∞–∑–∞–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è user_id –∏–∑ —Å–æ–±—ã—Ç–∏—è
      callback_edit: false
    - type: send
      text: |
        üë§ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_id}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –¢–∏–ø: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π)
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `target_user_id` –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `user_id` –∏–∑ —Å–æ–±—ã—Ç–∏—è
- `salt: "personal_{user_id}"` ‚Äî —Å–æ–ª—å –≤–∫–ª—é—á–∞–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–º–æ–∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤–µ—Ä–Ω–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–º–æ–∫–æ–¥

## –ü—Ä–∏–º–µ—Ä 8: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è

```yaml
create_promo_with_check:
  actions:
    - type: promo_manager
      action: check_promo
      promo_code: "{promo_code}"
      callback_edit: false
    - type: send
      text: |
        üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        
        –ö–æ–¥: {promo_code}
        –°—Ç–∞—Ç—É—Å: {promo_available|equals:true|value:–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç|fallback:–ù–µ –Ω–∞–π–¥–µ–Ω}
      callback_edit: false
      chain: true
    - type: promo_manager
      action: create_promo
      promo_name: "NEW_OFFER"
      salt: "new_offer_{timestamp}"
      use_random: true
      expired_seconds: 2592000  # 30 –¥–Ω–µ–π
      target_user_id: "Null"
      callback_edit: false
    - type: send
      text: |
        ‚úÖ –ù–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –•—ç—à: {hash_id}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π
- `salt: "new_offer_{timestamp}"` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–æ–ª—å —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π
- `use_random: true` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

## –ü—Ä–∏–º–µ—Ä 9: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–æ–π

```yaml
create_conditional_promo:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "{user_role|equals:admin|value:ADMIN_BONUS|fallback:USER_OFFER}"
      salt: "{user_role}_{user_id}"
      use_random: false
      expired_seconds: "{user_role|equals:admin|value:7776000|fallback:2592000}"  # 90 –¥–Ω–µ–π –¥–ª—è –∞–¥–º–∏–Ω–æ–≤, 30 –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      target_user_id: "{user_id}"
      callback_edit: false
    - type: send
      text: |
        üéØ –£—Å–ª–æ–≤–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –†–æ–ª—å: {user_role|equals:admin|value:–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä|fallback:–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –¢–∏–ø: {use_random|equals:true|value:–°–ª—É—á–∞–π–Ω—ã–π|fallback:–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π}
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `promo_name` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `expired_seconds` —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- `salt` –≤–∫–ª—é—á–∞–µ—Ç —Ä–æ–ª—å –∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–º–æ–∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ü—Ä–∏–º–µ—Ä 10: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

```yaml
create_validated_promo:
  actions:
    - type: validator
      rules:
        promo_name:
          - rule: not_empty
          - rule: length_min
            value: 3
          - rule: length_max
            value: 50
        expire_seconds:
          - rule: is_number
          - rule: min_value
            value: 3600  # –ú–∏–Ω–∏–º—É–º 1 —á–∞—Å
          - rule: max_value
            value: 31536000  # –ú–∞–∫—Å–∏–º—É–º 1 –≥–æ–¥
      callback_edit: false
      chain: true
    - type: promo_manager
      action: create_promo
      promo_name: "{promo_name}"
      salt: "{promo_salt}"
      use_random: "{use_random}"
      expired_seconds: "{expire_seconds}"
      target_user_id: "{target_user_id}"
      callback_edit: false
    - type: send
      text: |
        ‚úÖ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!
        
        –ù–∞–∑–≤–∞–Ω–∏–µ: {promo_name}
        –ö–æ–¥: {promo_code}
        –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {started_at|format:date} - {expired_at|format:date}
        –í–∞–ª–∏–¥–∞—Ü–∏—è: –ü—Ä–æ–π–¥–µ–Ω–∞
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –°–Ω–∞—á–∞–ª–∞ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `promo_name` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –¥–ª–∏–Ω—É –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å
- `expire_seconds` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π
- –ü—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## –ü—Ä–∏–º–µ—Ä 11: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

```yaml
list_all_active_promos:
  actions:
    - type: promo_manager
      action: promo_management
      operation: list
      limit: 100
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `action: promo_management` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏
- `operation: list` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞
- `limit: 100` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `{response_text}` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: ID | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
- –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–æ–º —à—Ä–∏—Ñ—Ç–µ

## –ü—Ä–∏–º–µ—Ä 12: –ü–æ–∏—Å–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

```yaml
search_promos_by_name:
  actions:
    - type: promo_manager
      action: promo_management
      operation: list
      name_pattern: "SUMMER"
      limit: 50
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `name_pattern: "SUMMER"` ‚Äî –ø–æ–∏—Å–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö "SUMMER" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
- –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∫–ª—é—á–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞

## –ü—Ä–∏–º–µ—Ä 13: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```yaml
list_user_promos:
  actions:
    - type: promo_manager
      action: promo_management
      operation: list
      user_filter: "{user_id}"
      limit: 50
      placeholder: true
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `user_filter: "{user_id}"` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ —á–∏—Å–ª–æ–≤—ã–µ ID, —Ç–∞–∫ –∏ username
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–æ–ª–≤–∏–Ω–≥ username —á–µ—Ä–µ–∑ `api_utils`

## –ü—Ä–∏–º–µ—Ä 14: –ü–æ–∏—Å–∫ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –ø–æ –∫–æ–¥—É

```yaml
find_promo_by_code:
  actions:
    - type: promo_manager
      action: promo_management
      operation: list
      promo_code: "ABC123"
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `promo_code: "ABC123"` ‚Äî —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É –ø—Ä–æ–º–æ–∫–æ–¥–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

## –ü—Ä–∏–º–µ—Ä 15: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

```yaml
complex_promo_search:
  actions:
    - type: promo_manager
      action: promo_management
      operation: list
      name_pattern: "BONUS"
      user_filter: "admin"
      expired_after: "2025-06-01"
      limit: 25
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `name_pattern: "BONUS"` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "BONUS"
- `user_filter: "admin"` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å username "admin"
- `expired_after: "2025-06-01"` ‚Äî –∏—Å—Ç–µ–∫–∞–µ—Ç –ø–æ—Å–ª–µ 1 –∏—é–Ω—è 2025
- –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## –ü—Ä–∏–º–µ—Ä 16: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥—É

```yaml
get_promo_details:
  actions:
    - type: promo_manager
      action: promo_management
      operation: details
      promo_id: "{promo_id}"
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `operation: details` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- `promo_id: "{promo_id}"` ‚Äî ID –ø—Ä–æ–º–æ–∫–æ–¥–∞ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: –∫–æ–¥, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –¥–∞—Ç—ã

## –ü—Ä–∏–º–µ—Ä 17: –ü–æ–∏—Å–∫ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –ø–æ –∫–æ–¥—É —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π

```yaml
find_and_detail_promo:
  actions:
    - type: promo_manager
      action: promo_management
      operation: details
      promo_code: "WELCOME2025"
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `promo_code: "WELCOME2025"` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID –ø—Ä–æ–º–æ–∫–æ–¥–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–Ω–∞—Ç—å ID

## –ü—Ä–∏–º–µ—Ä 20: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –ø–æ ID –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è

```yaml
get_promo_from_event:
  actions:
    - type: promo_manager
      action: promo_management
      operation: details
      event_text: "{event_text}"
      callback_edit: false
    - type: send
      text: "{response_text}"
      callback_edit: false
      chain: completed
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `event_text: "{event_text}"` ‚Äî ID –ø—Ä–æ–º–æ–∫–æ–¥–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∏—Å–ª–æ–≤–æ–≥–æ ID
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** –¥–ª—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **–ü—Ä–∏–º–µ–Ω—è—Ç—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é** –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ä–∞–∑—É–º–Ω—ã–µ —Å—Ä–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è** (–Ω–µ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ, –Ω–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ–Ω—è—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è** –≤ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞—Ö
- **–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **–°–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤** –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** (> 50 —Å–∏–º–≤–æ–ª–æ–≤)
- **–°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π** –ø–æ —Å—Ä–æ–∫—É –¥–µ–π—Å—Ç–≤–∏—è
- **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ—Ç–ª–∞–¥–∫–µ
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—à–∏–±–æ–∫
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `check_promo`** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
```yaml
# –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
test_promos:
  actions:
    - type: promo_manager
      action: create_promo
      promo_name: "TEST_PROMO"
      salt: "test_salt"
      use_random: false
      expired_seconds: 3600  # 1 —á–∞—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      target_user_id: "Null"
      callback_edit: false
    - type: send
      text: "–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω: {promo_code}"
      callback_edit: false
      chain: true
    - type: promo_manager
      action: check_promo
      promo_code: "{promo_code}"
      callback_edit: false
      chain: true
    - type: send
      text: "–ü—Ä–æ–≤–µ—Ä–∫–∞: {promo_available|equals:true|value:–î–æ—Å—Ç—É–ø–µ–Ω|fallback:–ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω}"
      callback_edit: false
      chain: completed
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏ —Å–ª—É—á–∞–π–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ –∏ –Ω–∞–¥–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤.

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤** –∑–∞—Ä–∞–Ω–µ–µ
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∫–æ–¥–æ–≤
- **–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é** –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
