name: "hash_manager"
description: "Утилита для генерации хэшей из атрибутов и файлов"
edition: "base"

dependencies:
  - "logger"

interface:
  methods:
    generate_hash_from_attributes:
      description: "Генерирует хэш из набора атрибутов с сортировкой"
      input:
        attributes:
          type: object
          description: "Словарь атрибутов для хэширования"
      output:
        type: string
        description: "MD5 хэш атрибутов"
    generate_hash_from_path:
      description: "Ультрабыстрый хэш файла только по пути (для кэширования)"
      input:
        file_path:
          type: string
          description: "Путь к файлу"
      output:
        type: string
        description: "MD5 хэш пути"
    generate_hash:
      description: "Универсальный метод генерации хэша"
      input:
        file_path:
          type: string
          description: "Путь к файлу (опционально)"
        attributes:
          type: object
          description: "Атрибуты для хэширования (опционально)"
      output:
        type: string
        description: "MD5 хэш"
    generate_filename:
      description: "Генерирует уникальное имя файла в формате prefix-code1-code2.extension"
      input:
        prefix:
          type: string
          description: "Префикс имени файла (например, голос)"
        extension:
          type: string
          description: "Расширение файла (mp3, opus, wav и т.д.)"
        code_length:
          type: integer
          description: "Длина кода (по умолчанию 8 для формата 4-4)"
      output:
        type: string
        description: "Имя файла"
    generate_code:
      description: "Генерирует код заданной длины (случайный или детерминированный)"
      input:
        length:
          type: integer
          description: "Длина генерируемого кода (6-16)"
        use_digits:
          type: boolean
          description: "Использовать цифры"
        use_letters:
          type: boolean
          description: "Использовать буквы"
        random:
          type: boolean
          description: "Случайная генерация (true) или детерминированная (false)"
        attributes:
          type: object
          description: "Атрибуты для генерации хеша (для детерминированной генерации)"
      output:
        type: string
        description: "Уникальный код в lowercase"

features:
  - "Ультрабыстрое хэширование файлов по пути"
  - "Хэширование атрибутов с сортировкой"
  - "Универсальный метод выбора способа хэширования"
  - "Генерация имен файлов в формате 4-4"
  - "Универсальная генерация кодов (случайных или детерминированных) с настраиваемыми параметрами (6-16 символов)"
  - "Обработка ошибок" 